\ProvidesPackage{prodrive/package/pdmarking}
\RequirePackage{prodrive/package/pdcolor}
\RequirePackage{soul}

\newcommand{\pdhighlight}[2]%
{%
	% Use \texorpdfstring such that bookmark text is not highlighted.
	% Bookmark text can only be text.
	% Use \protect such that highlighting can be applied in a heading such as \chapter.
	\texorpdfstring%
		{\protect\sethlcolor{#1}\hl{#2}\protect\sethlcolor{white}}%
		{#2}%
}

% Prodrive markers, using soul:
\newcommand{\FAIL}[1]{\pdhighlight{color_fail}{#1}}
\newcommand{\NEW}[1]{\pdhighlight{color_new}{#1}}
\newcommand{\MEASURE}[1]{\pdhighlight{color_measure}{#1}}
\newcommand{\PASS}[1]{\pdhighlight{color_pass}{#1}}
\newcommand{\TBD}[1]{\pdhighlight{color_tbd}{#1}}
\newcommand{\TODO}[1]{\pdhighlight{color_tbd}{#1}}