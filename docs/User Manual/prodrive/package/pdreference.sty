\ProvidesPackage{prodrive/package/pdreference}
\RequirePackage{prodrive/package/pdtext}

% We do want to require package 'hyperref' but this will introduce a LaTeX warning, 
% indicating a conflict between package 'hyperref' and 'pdfcomment'. Package 
% 'pdfcomment' namely also requires package 'hyperref'. Package 'pdfcomment' is 
% currently used in 'pdreference.sty' and 'pdreq.sty'. Requiring package 
% 'pdfcomment' instead, and using '\hypersetup' to configure 'hyperref' correctly 
% will solve this issue.
%\RequirePackage[colorlinks, allcolors=black, linkcolor=black, citecolor=black, filecolor=blue, urlcolor=blue, bookmarksnumbered]{hyperref}
\RequirePackage{pdfcomment}
\hypersetup{colorlinks, allcolors=black, linkcolor=black, citecolor=black, filecolor=blue, urlcolor=blue, bookmarksnumbered}

\RequirePackage[capitalise, noabbrev]{cleveref}
\RequirePackage{xifthen}

%define easy reference to figures
%\message{Warning: use of \\figref is deprecated, use \\cref instead.}
\newcommand{\figref}[1]{\cref{#1}}	

%define easy reference to tables
%\message{Warning: use of \\tblref is deprecated, use \\cref instead.}
\newcommand{\tblref}[1]{\cref{#1}}

%define easy reference to sections
%\message{Warning: use of \\secref is deprecated, use \\cref instead.}
\newcommand{\secref}[1]{\cref{#1}}

\newcommand{\pdurl}[2][]%
{\ifthenelse{\isempty{#1}}%
	{\href{#2}{\pdunderline{#2}}}%
	{\href{#2}{\pdunderline{#1}}}%
}%

\newcommand{\pdorionurl}[3][]%
{\ifthenelse{\isempty{#1}}%
	{\pdurl[{#2}{#3}]{http://orionfs:60001/getdoc?pn=#3}}%
	{\pdurl[{#2}{#3}R{#1}]{http://orionfs:60001/getdoc?pn=#3#1}}%
}%
