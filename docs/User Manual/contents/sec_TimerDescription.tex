\section{Description}

Timer objects are software timers managed by the kernel. Each timer is updated during the OS tick, when a timer overflows it can publish an event. The maximum resolution of each timer depends on the OS tick frequency and the Timer module prescaler. \TODO{Add refs to config}. \\
All timer API functions have the prefix \textit{Timer}.

\subsection{Timer parameter}
Every timer object contains a timer parameter register that is used to configure the timerâ€™s operation mode. These registers contain the following settings:\\
bit 0: ON-bit, timer will be ON after creation if this bit is 1.\\
bit 1: Periodic-bit, timer will not be deleted after triggering if bit is 1.\\
bit 2: Auto-Reset-bit, timer will auto-reset if this bit is 1. If this is not the case, the timer will stay in the waiting state until reset manually.\\
bit 3-7: Contain the number of timer iterations. This number decreases after every overflow, the timer will be deleted if this number equals zero and the Periodic-bit is 0. \\

\subsection{States}
A timer can occupy on of three states; \textit{TIMER\_STATE\_STOPPED}, \textit{TIMER\_STATE\_RUNNING} and \textit{TIMER\_STATE\_WAITING}. Figure X shows the state diagram of these states and their respective transitions. \\ 
\textit{TIMER\_STATE\_STOPPED}: The timer is in an inactive state, this is the default state after creation.\\
\textit{TIMER\_STATE\_RUNNING}: The timer is in an active state where its counter is incremented\\ automatically.\\
\textit{TIMER\_STATE\_RUNNING}: The timer is waiting to be reset.\\

\subsection{Events}

\begin{pdtable}{tbl:timerevents}{Timer events}
	\begin{pdtabular}{l|c|p{9.5cm}}
		\pdtablehead{\textbf{Event}  & \textbf{Event type} & \textbf{Description}}
		\pdtablerow{\textit{TIMER\_EVENT\_OVERFLOW} & State change & Published when the Timer's counter has reached its set interval value. }
		\pdtablerow{\textit{TIMER\_EVENT\_START} & State change & Published when the Timer was started.}
		\pdtablerow{\textit{TIMER\_EVENT\_STOP} & State change & Published when a Timer was stopped.}
		\pdtablerow{\textit{TIMER\_EVENT\_RESET}  & State change &Published when a Timer was reset.}
	\end{pdtabular}
\end{pdtable}

